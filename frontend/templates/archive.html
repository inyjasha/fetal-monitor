<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ö–∏–≤ –ø—Ä–∏–µ–º–æ–≤ - –í—Ä–∞—á –ö–ì–¢</title>
    <link rel="stylesheet" href="../static/archive.css">
</head>
<body>
<header class="header">
    <div class="header-left">
        <a href="main.html" class="header-logo">–ö–ì–¢</a>
        <nav class="nav-links">
            <a href="main.html" class="nav-link">–ü–æ–∏—Å–∫ –ø–∞—Ü–∏–µ–Ω—Ç–∞</a>
            <a href="archive.html" class="nav-link active">–ê—Ä—Ö–∏–≤ –ø—Ä–∏–µ–º–æ–≤</a>
        </nav>
    </div>
    <div class="header-right">
        <div class="doctor-name">–ò–≤–∞–Ω–æ–≤ –ê.–°.</div>
        <div class="doctor-icon">–í</div>
        <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>
</header>

<main class="main-container">
    <h1 class="page-title">–ê—Ä—Ö–∏–≤ –ø—Ä–∏–µ–º–æ–≤</h1>

    <!-- –ë–ª–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ -->
    <div class="selected-patient-bar" id="selectedPatientBar" style="display: none;">
        <div class="selected-patient-info">
            <span class="selected-patient-label">–ü–æ–∫–∞–∑–∞–Ω—ã –ø—Ä–∏–µ–º—ã –ø–∞—Ü–∏–µ–Ω—Ç–∞:</span>
            <span class="selected-patient-name" id="selectedPatientName"></span>
        </div>
        <button class="clear-filter-btn" onclick="clearPatientFilter()" title="–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤">
            √ó –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö
        </button>
    </div>

    <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
    <div class="filters-section">
        <div class="search-box">
            <input type="text" class="search-input" id="archiveSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ –§–ò–û –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ –¥–∞—Ç–µ...">
            <button class="search-btn" onclick="performArchiveSearch()">
                <span class="search-icon">üîç</span>
            </button>
        </div>

        <div class="filter-controls">
            <div class="filter-group">
                <label for="dateFilter">–ü–µ—Ä–∏–æ–¥:</label>
                <select id="dateFilter" class="filter-select">
                    <option value="all">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</option>
                    <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                    <option value="week">–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                    <option value="month">–ó–∞ –º–µ—Å—è—Ü</option>
                    <option value="custom">–í—ã–±—Ä–∞—Ç—å –ø–µ—Ä–∏–æ–¥</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="statusFilter">–°—Ç–∞—Ç—É—Å:</label>
                <select id="statusFilter" class="filter-select">
                    <option value="all">–í—Å–µ –ø—Ä–∏–µ–º—ã</option>
                    <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                    <option value="scheduled">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</option>
                    <option value="canceled">–û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ</option>
                </select>
            </div>

            <div class="filter-group">
                <label for="typeFilter">–¢–∏–ø –ø—Ä–∏–µ–º–∞:</label>
                <select id="typeFilter" class="filter-select">
                    <option value="all">–í—Å–µ —Ç–∏–ø—ã</option>
                    <option value="kgt">–ö–ì–¢</option>
                    <option value="consultation">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</option>
                    <option value="examination">–û—Å–º–æ—Ç—Ä</option>
                </select>
            </div>

            <div class="filter-group custom-date" id="customDateRange" style="display: none;">
                <label for="startDate">–°:</label>
                <input type="date" id="startDate" class="date-input">
                <label for="endDate">–ü–æ:</label>
                <input type="date" id="endDate" class="date-input">
            </div>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="stats-section">
        <div class="stat-card">
            <div class="stat-number" id="totalAppointments">0</div>
            <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–∏–µ–º–æ–≤</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="completedAppointments">0</div>
            <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="todayAppointments">0</div>
            <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
        </div>
        <div class="stat-card">
            <div class="stat-number" id="kgtProcedures">0</div>
            <div class="stat-label">–ö–ì–¢ –ø—Ä–æ—Ü–µ–¥—É—Ä</div>
        </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–∏–µ–º–æ–≤ -->
    <div class="appointments-section">
        <div class="section-header">
            <h2 class="section-title">–°–ø–∏—Å–æ–∫ –ø—Ä–∏–µ–º–æ–≤</h2>
            <div class="section-actions">
                <button class="action-btn" onclick="exportToExcel()">
                    <span class="action-icon">üìä</span>
                    –≠–∫—Å–ø–æ—Ä—Ç
                </button>
                <button class="action-btn" onclick="printAppointments()">
                    <span class="action-icon">üñ®Ô∏è</span>
                    –ü–µ—á–∞—Ç—å
                </button>
            </div>
        </div>

        <div class="appointments-list" id="appointmentsList">
            <!-- –ü—Ä–∏–µ–º—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>

        <div class="pagination" id="pagination">
            <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>
</main>

<script src="../static/archive.js"></script>
</body>
</html>